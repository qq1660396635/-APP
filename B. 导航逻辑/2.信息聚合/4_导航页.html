<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>È°µÈù¢ÂØºËà™È¶ñÈ°µ</title>
    <style>
        * {margin:0; padding:0; box-sizing:border-box; font-family:Arial, sans-serif;}
        body {background-image:url('https://picsum.photos/seed/nav/1920/1080.jpg'); background-size:cover; background-position:center; background-attachment:fixed; background-repeat:no-repeat; position:relative; min-height:100vh;}
        body::before {content:''; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.75); z-index:-1;}
        .bg-upload-btn {position:fixed; top:20px; right:20px; width:40px; height:40px; background:rgba(0,0,0,0.7); border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; box-shadow:0 2px 8px rgba(0,0,0,0.3); transition:all 0.3s ease; z-index:1000;}
        .bg-upload-btn:hover {transform:scale(1.1); box-shadow:0 4px 12px rgba(0,0,0,0.5);}
        .bg-upload-btn i {color:white; font-size:18px;}
        #bgInput {display:none;}
        .toast {position:fixed; bottom:100px; left:50%; transform:translateX(-50%) translateY(100px); background:rgba(0,0,0,0.8); color:white; padding:12px 24px; border-radius:30px; font-size:14px; font-weight:500; box-shadow:0 4px 12px rgba(0,0,0,0.3); opacity:0; transition:all 0.3s ease; z-index:2000; max-width:80%; text-align:center;}
        .toast.show {transform:translateX(-50%) translateY(0); opacity:1;}
        .cards-container {display:grid; grid-template-columns:repeat(3, 1fr); gap:15px; max-width:1200px; margin:0 auto; padding:20px; position:relative; z-index:1;}
        .card {background:linear-gradient(135deg, rgba(255,255,255,0.25), rgba(255,255,255,0.15)); border-radius:12px; padding:20px 15px; text-align:center; box-shadow:0 4px 15px rgba(0,0,0,0.1); cursor:pointer; transition:all 0.3s ease; position:relative; backdrop-filter:blur(10px); border:1px solid rgba(255,255,255,0.2);}
        .card:hover {transform:translateY(-5px) scale(1.02); box-shadow:0 8px 25px rgba(0,0,0,0.2); background:linear-gradient(135deg, rgba(255,255,255,0.35), rgba(255,255,255,0.25)); border:1px solid rgba(255,255,255,0.3);}
        .card.dragging {opacity:0.5; transform:scale(0.95);}
        .card-icon {font-size:28px; margin-bottom:10px; color:#fff; text-shadow:0 1px 3px rgba(0,0,0,0.5);}
        .card-name {white-space:normal; overflow:hidden; text-overflow:ellipsis; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; font-size:14px; font-weight:bold; margin-top:8px; height:36px; color:#fff; text-shadow:0 1px 3px rgba(0,0,0,0.8);}
        .delete-btn {position:absolute; top:5px; right:5px; width:24px; height:24px; background:rgba(255,0,0,0.8); color:white; border:none; border-radius:50%; font-size:14px; cursor:pointer; display:none; line-height:1; padding:0; transition:all 0.2s;}
        .card:hover .delete-btn {display:block;}
        .delete-btn:hover {background:rgba(255,0,0,1); transform:scale(1.1);}
        #iframe-container {position:fixed; top:0; left:0; width:100%; height:100%; background:white; z-index:1000; display:none;}
        #site-iframe {width:100%; height:100%; border:none;}
        #back-button {position:fixed; top:15px; left:15px; z-index:1001; background:rgba(0,0,0,0.7); color:white; border:none; border-radius:50%; width:40px; height:40px; font-size:20px; cursor:pointer; display:none; transition:all 0.3s;}
        #back-button:hover {background:rgba(0,0,0,0.9); transform:scale(1.1);}
        .control-buttons {position:fixed; bottom:80px; left:50%; transform:translateX(-50%); z-index:999; display:flex; gap:15px; background:rgba(0,0,0,0.5); padding:10px 20px; border-radius:30px; backdrop-filter:blur(10px);}
        .control-btn {width:45px; height:45px; border-radius:50%; background:rgba(255,255,255,0.2); color:white; border:none; font-size:20px; cursor:pointer; display:flex; align-items:center; justify-content:center; transition:all 0.3s; box-shadow:0 2px 8px rgba(0,0,0,0.2);}
        .control-btn:hover {background:rgba(255,255,255,0.3); transform:scale(1.1);}
        /* ÂàÜÈ°µÊéß‰ª∂Ê†∑Âºè */
        .pagination {position:fixed; bottom:20px; left:50%; transform:translateX(-50%); z-index:998; display:flex; align-items:center; gap:10px; background:rgba(0,0,0,0.6); padding:10px 15px; border-radius:25px; backdrop-filter:blur(10px);}
        .pagination button {background:rgba(255,255,255,0.2); color:white; border:none; padding:8px 12px; border-radius:5px; cursor:pointer; transition:all 0.3s; font-size:14px;}
        .pagination button:hover:not(:disabled) {background:rgba(255,255,255,0.3); transform:scale(1.05);}
        .pagination button:disabled {opacity:0.5; cursor:not-allowed;}
        .pagination .page-info {color:white; font-size:14px; margin:0 5px;}
        .pagination .page-numbers {display:flex; gap:5px;}
        .pagination .page-num {background:rgba(255,255,255,0.2); color:white; border:none; padding:8px 10px; border-radius:5px; cursor:pointer; transition:all 0.3s; font-size:14px; min-width:32px;}
        .pagination .page-num:hover {background:rgba(255,255,255,0.3);}
        .pagination .page-num.active {background:rgba(74,108,247,0.7); font-weight:bold;}
        .modal {display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1002; justify-content:center; align-items:center;}
        .modal-content {background:white; border-radius:12px; padding:25px; width:90%; max-width:400px; box-shadow:0 8px 30px rgba(0,0,0,0.3);}
        .modal-title {font-size:20px; font-weight:bold; margin-bottom:20px; color:#333;}
        .form-group {display:flex; flex-direction:column; margin-bottom:15px;}
        .form-group label {font-size:14px; margin-bottom:5px; font-weight:bold; color:#555;}
        .form-group input {padding:10px 12px; border:1px solid #ddd; border-radius:6px; font-size:14px; transition:all 0.3s;}
        .form-group input:focus {outline:none; border-color:#4a6cf7; box-shadow:0 0 0 3px rgba(74,108,247,0.2);}
        .modal-buttons {display:flex; justify-content:flex-end; gap:10px; margin-top:20px;}
        .modal-btn {padding:10px 20px; border:none; border-radius:6px; cursor:pointer; font-size:14px; font-weight:500; transition:all 0.3s;}
        .modal-btn.cancel {background:#f0f0f0; color:#333;}
        .modal-btn.cancel:hover {background:#e0e0e0;}
        .modal-btn.confirm {background:#4a6cf7; color:white;}
        .modal-btn.confirm:hover {background:#3a5bd9;}
        @media (max-width:768px) {
            .cards-container {grid-template-columns:repeat(3, 1fr); gap:10px; padding:15px;}
            .card {padding:15px 10px;}
            .card-name {font-size:13px;}
            .control-buttons {bottom:70px; gap:10px; padding:8px 15px;}
            .control-btn {width:40px; height:40px; font-size:18px;}
            .bg-upload-btn {width:36px; height:36px; top:15px; right:15px;}
            .pagination {padding:8px 12px; gap:8px;}
            .pagination button, .pagination .page-num {padding:6px 8px; font-size:12px;}
            .pagination .page-info {font-size:12px;}
        }
        @media (max-width:360px) {
            .cards-container {grid-template-columns:repeat(3, 1fr); gap:8px; padding:10px;}
            .card {padding:12px 8px;}
            .control-buttons {bottom:65px; gap:8px; padding:6px 12px;}
            .control-btn {width:36px; height:36px; font-size:16px;}
            .bg-upload-btn {width:32px; height:32px; top:10px; right:10px;}
            .pagination {padding:6px 10px; gap:5px;}
            .pagination button, .pagination .page-num {padding:5px 7px; font-size:11px;}
            .pagination .page-info {font-size:11px;}
        }
        body.landscape {transform:rotate(90deg); transform-origin:center center; width:100vh; height:100vw; position:fixed; top:50%; left:50%; margin-top:-50vw; margin-left:-50vh;}
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <!-- ËÉåÊôØÊõ¥Êç¢ÊåâÈíÆ -->
    <div class="bg-upload-btn" onclick="document.getElementById('bgInput').click()" title="Êõ¥Êç¢ËÉåÊôØ">
        <i class="fas fa-image"></i>
    </div>
    <input type="file" id="bgInput" accept="image/*" onchange="handleBgUpload(event)">
    
    <div id="toast" class="toast"></div>
    
    <!-- Âç°ÁâáÁΩëÊ†ºÂ∏ÉÂ±Ä -->
    <div class="cards-container" id="cards-container">
        <!-- Âç°ÁâáÂ∞ÜÈÄöËøáJSÂä®ÊÄÅÁîüÊàê -->
    </div>
    
    <!-- ÂàÜÈ°µÊéß‰ª∂ -->
    <div class="pagination" id="pagination">
        <button id="prev-btn" onclick="changePage(-1)">‰∏ä‰∏ÄÈ°µ</button>
        <div class="page-numbers" id="page-numbers"></div>
        <span class="page-info" id="page-info"></span>
        <button id="next-btn" onclick="changePage(1)">‰∏ã‰∏ÄÈ°µ</button>
    </div>
    
    <!-- iframeÂÖ®Â±èÂÆπÂô® -->
    <div id="iframe-container">
        <iframe id="site-iframe" src=""></iframe>
    </div>
    
    <!-- ËøîÂõûÊåâÈíÆ -->
    <button id="back-button">‚Üê</button>
    
    <!-- ÊéßÂà∂ÊåâÈíÆ -->
    <div class="control-buttons">
        <button class="control-btn" id="add-btn" title="Ê∑ªÂä†ÁΩëÁ´ô">+</button>
        <button class="control-btn" id="rotate-btn" title="ÊóãËΩ¨Â±èÂπï">‚Üª</button>
        <button class="control-btn" id="clear-btn" title="Ê∏ÖÈô§ÁºìÂ≠ò">üóëÔ∏è</button>
    </div>
    
    <!-- Ê∑ªÂä†ÁΩëÁ´ôÁöÑÊ®°ÊÄÅÊ°Ü -->
    <div class="modal" id="add-modal">
        <div class="modal-content">
            <div class="modal-title">Ê∑ªÂä†Êñ∞ÁΩëÁ´ô</div>
            <div class="form-group">
                <label for="site-name">ÁΩëÁ´ôÂêçÁß∞</label>
                <input type="text" id="site-name" placeholder="ËæìÂÖ•ÁΩëÁ´ôÂêçÁß∞">
            </div>
            <div class="form-group">
                <label for="site-url">ÁΩëÁ´ôÂú∞ÂùÄ</label>
                <input type="text" id="site-url" placeholder="ËæìÂÖ•ÁΩëÁ´ôURL (ÂåÖÂê´http://Êàñhttps://)">
            </div>
            <div class="modal-buttons">
                <button class="modal-btn cancel" id="cancel-add">ÂèñÊ∂à</button>
                <button class="modal-btn confirm" id="confirm-add">Á°ÆËÆ§Ê∑ªÂä†</button>
            </div>
        </div>
    </div>

    <script>
        // ÂàùÂßãÁΩëÁ´ôÊï∞ÊçÆ
        let sites = [
            {name: '1.ÁºñÁ®ã-ËèúÈ∏üÊïôÁ®ã', url: 'https://www.runoob.com/?s=bash', icon: 'fa-code'},
            {name: '2.ÊèêÁ§∫ËØç', url: 'https://www.aishort.top/', icon: 'fa-lightbulb'},
            {name: '3.Âú®Á∫øÂ∑•ÂÖ∑', url: 'https://tool.lu/library/', icon: 'fa-tools'},
            {name: '4.Reportify', url: 'https://reportify.cn/', icon: 'fa-chart-bar'},
            {name: '5.ËâæÁëû', url: 'https://report.iresearch.cn/', icon: 'fa-analytics'},
            {name: '6.Á†îÂÆù', url: 'https://m.sdyanbao.com/', icon: 'fa-book'},
            {name: '7.Á´ãÂàõÂºÄÊ∫ê', url: 'https://oshwhub.com/', icon: 'fa-microchip'},
            {name: '8.ÁÆóÊ≥ïÂèØËßÜÂåñ', url: 'https://visualgo.net/zh', icon: 'fa-project-diagram'},
            {name: '9.ÁΩëÂÆâFreeBuf', url: 'https://m.freebuf.com/', icon: 'fa-shield-alt'},
            {name: '10.FMHY', url: 'https://fmhy.net/', icon: 'fa-compass'},
            {name: '11.ÁΩëÈ°µÊ®°Êùø', url: 'https://www.moyubuluo.com/codes/sjwz/', icon: 'fa-palette'},
            {name: '12.È°∫‰∏∫ÂØºËà™', url: 'https://tangshanseo.cn/', icon: 'fa-sitemap'},
            
            // --- Êñ∞Â¢ûÁöÑÁΩëÁ´ô ---
            {name: '13.Áà±‰º†', url: 'https://www.aiachuan.com/', icon: 'fa-brain'},
            {name: '14.ÊòüÂõæ', url: 'https://starwalk.space/zh-Hans/news', icon: 'fa-star'},
            {name: '15.ÂçéÂ∞îË°óËßÅÈóª', url: 'https://wallstreetcn.com/', icon: 'fa-chart-line'},
            {name: '16.Jitter', url: 'https://jitter.video/', icon: 'fa-video'},
            {name: '17.ÈöèÊú∫ÁΩëÁ´ô', url: 'https://theuselessweb.com/', icon: 'fa-dice'},
            {name: '18.‰π¶Á≠æÂú∞ÁêÉ', url: 'https://www.bookmarkearth.cn/', icon: 'fa-bookmark'},
            {name: '19.33IQ', url: 'https://www.33iq.com/', icon: 'fa-puzzle-piece'},
            {name: '20.ÈªëÂÆ¢Ê®°ÊãüÂô®', url: 'https://pranx.com/', icon: 'fa-user-secret'},
            {name: '21.ËÄÅFlashÊ∏∏Êàè', url: 'https://oldswf.com/', icon: 'fa-gamepad'},
            {name: '22.ÁÉ≠Ê¶úËÅöÂêà', url: 'https://tophub.today/', icon: 'fa-fire'},
        ];

        // ÁºìÂ≠òÈîÆÂêç
        const BG_CACHE_KEY = 'navBackground';
        const SITES_CACHE_KEY = 'sites';
        const PAGE_CACHE_KEY = 'currentPage';
        
        // ÂàÜÈ°µÈÖçÁΩÆ
        const ITEMS_PER_PAGE = 12;
        let currentPage = 1;
        let totalPages = 1;
        
        // ‰ªéÊú¨Âú∞Â≠òÂÇ®Âä†ËΩΩÊï∞ÊçÆ
        function loadSites() {
            const savedSites = localStorage.getItem(SITES_CACHE_KEY);
            if (savedSites) {
                sites = JSON.parse(savedSites);
            }
            
            // Âä†ËΩΩÂΩìÂâçÈ°µÁ†Å
            const savedPage = localStorage.getItem(PAGE_CACHE_KEY);
            if (savedPage) {
                currentPage = parseInt(savedPage);
            }
        }
        
        // ‰øùÂ≠òÊï∞ÊçÆÂà∞Êú¨Âú∞Â≠òÂÇ®
        function saveSites() {
            localStorage.setItem(SITES_CACHE_KEY, JSON.stringify(sites));
        }
        
        // ‰øùÂ≠òÂΩìÂâçÈ°µÁ†Å
        function saveCurrentPage() {
            localStorage.setItem(PAGE_CACHE_KEY, currentPage.toString());
        }
        
        // ToastÊèêÁ§∫
        function showToast(message, duration = 3000) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, duration);
        }
        
        // ËÉåÊôØ‰∏ä‰º†Â§ÑÁêÜ
        function handleBgUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            if (!file.type.startsWith('image/')) {
                showToast('ËØ∑ÈÄâÊã©ÊúâÊïàÁöÑÂõæÁâáÊñá‰ª∂');
                return;
            }
            
            if (file.size > 5 * 1024 * 1024) {
                showToast('ÂõæÁâáÂ§ßÂ∞è‰∏çËÉΩË∂ÖËøá5MB');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    localStorage.setItem(BG_CACHE_KEY, e.target.result);
                    localStorage.setItem('bgTimestamp', Date.now().toString());
                    document.body.style.backgroundImage = `url(${e.target.result})`;
                    showToast('ËÉåÊôØÊõ¥Êç¢ÊàêÂäü!');
                } catch (e) {
                    showToast('ËÉåÊôØÊõ¥Êç¢Â§±Ë¥•ÔºåËØ∑Êõ¥Êç¢Âè¶‰∏ÄÂº†ÂõæÁâá');
                }
            };
            
            reader.onerror = function() {
                showToast('ÂõæÁâáËØªÂèñÂ§±Ë¥•ÔºåËØ∑Êõ¥Êç¢Âè¶‰∏ÄÂº†ÂõæÁâá');
            };
            
            reader.readAsDataURL(file);
            event.target.value = "";
        }
        
        // Âä†ËΩΩ‰øùÂ≠òÁöÑËÉåÊôØ
        function loadSavedBackground() {
            const savedBg = localStorage.getItem(BG_CACHE_KEY);
            const timestamp = localStorage.getItem('bgTimestamp');
            
            if (savedBg && timestamp) {
                const age = Date.now() - parseInt(timestamp);
                if (age < 7 * 24 * 60 * 60 * 1000) { // 7Â§©ÊúâÊïàÊúü
                    document.body.style.backgroundImage = `url(${savedBg})`;
                    return true;
                } else {
                    localStorage.removeItem(BG_CACHE_KEY);
                    localStorage.removeItem('bgTimestamp');
                }
            }
            return false;
        }
        
        // Ê∏ÖÈô§ÊâÄÊúâÁºìÂ≠ò
        function clearAllCache() {
            if (confirm('Á°ÆÂÆöË¶ÅÊ∏ÖÈô§ÊâÄÊúâÁºìÂ≠òÂêóÔºü\nËøôÂ∞ÜÂà†Èô§ÁΩëÁ´ôÂàóË°®ÂíåËÉåÊôØÁºìÂ≠ò„ÄÇ')) {
                localStorage.removeItem(SITES_CACHE_KEY);
                localStorage.removeItem(BG_CACHE_KEY);
                localStorage.removeItem('bgTimestamp');
                localStorage.removeItem(PAGE_CACHE_KEY);
                location.reload();
            }
        }
        
        // ÂàùÂßãÂåñÂáΩÊï∞
        function init() {
            if (!loadSavedBackground()) {
                document.body.style.backgroundImage = "url('https://picsum.photos/seed/nav/1920/1080.jpg')";
            }
            
            loadSites();
            renderCards();
            renderPagination();
        }
        
        // Ê∏≤ÊüìÂàÜÈ°µÊéß‰ª∂
        function renderPagination() {
            totalPages = Math.ceil(sites.length / ITEMS_PER_PAGE);
            
            // Êõ¥Êñ∞È°µÁ†Å‰ø°ÊÅØ
            document.getElementById('page-info').textContent = `${currentPage} / ${totalPages}`;
            
            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            document.getElementById('prev-btn').disabled = currentPage === 1;
            document.getElementById('next-btn').disabled = currentPage === totalPages;
            
            // Ê∏≤ÊüìÈ°µÁ†ÅÊåâÈíÆ
            const pageNumbers = document.getElementById('page-numbers');
            pageNumbers.innerHTML = '';
            
            // ËÆ°ÁÆóË¶ÅÊòæÁ§∫ÁöÑÈ°µÁ†ÅËåÉÂõ¥
            let startPage = Math.max(1, currentPage - 2);
            let endPage = Math.min(totalPages, startPage + 4);
            
            if (endPage - startPage < 4) {
                startPage = Math.max(1, endPage - 4);
            }
            
            // Â¶ÇÊûú‰∏çÊòØ‰ªéÁ¨¨‰∏ÄÈ°µÂºÄÂßãÔºåÊòæÁ§∫Á¨¨‰∏ÄÈ°µÂíåÁúÅÁï•Âè∑
            if (startPage > 1) {
                const firstPage = createPageNum(1);
                pageNumbers.appendChild(firstPage);
                
                if (startPage > 2) {
                    const dots = document.createElement('span');
                    dots.textContent = '...';
                    dots.style.color = 'white';
                    dots.style.padding = '0 5px';
                    pageNumbers.appendChild(dots);
                }
            }
            
            // ÊòæÁ§∫È°µÁ†Å
            for (let i = startPage; i <= endPage; i++) {
                const pageNum = createPageNum(i);
                pageNumbers.appendChild(pageNum);
            }
            
            // Â¶ÇÊûú‰∏çÊòØÂà∞ÊúÄÂêé‰∏ÄÈ°µÁªìÊùüÔºåÊòæÁ§∫ÁúÅÁï•Âè∑ÂíåÊúÄÂêé‰∏ÄÈ°µ
            if (endPage < totalPages) {
                if (endPage < totalPages - 1) {
                    const dots = document.createElement('span');
                    dots.textContent = '...';
                    dots.style.color = 'white';
                    dots.style.padding = '0 5px';
                    pageNumbers.appendChild(dots);
                }
                
                const lastPage = createPageNum(totalPages);
                pageNumbers.appendChild(lastPage);
            }
        }
        
        // ÂàõÂª∫È°µÁ†ÅÊåâÈíÆ
        function createPageNum(pageNum) {
            const button = document.createElement('button');
            button.className = 'page-num';
            if (pageNum === currentPage) {
                button.classList.add('active');
            }
            button.textContent = pageNum;
            button.onclick = function() {
                goToPage(pageNum);
            };
            return button;
        }
        
        // ÂàáÊç¢È°µÈù¢
        function changePage(direction) {
            const newPage = currentPage + direction;
            if (newPage >= 1 && newPage <= totalPages) {
                goToPage(newPage);
            }
        }
        
        // Ë∑≥ËΩ¨Âà∞ÊåáÂÆöÈ°µ
        function goToPage(page) {
            currentPage = page;
            saveCurrentPage();
            renderCards();
            renderPagination();
        }
        
        // Ê∑ªÂä†ÊåâÈíÆ‰∫ã‰ª∂
        document.getElementById('add-btn').addEventListener('click', function() {
            document.getElementById('add-modal').style.display = 'flex';
        });
        
        // ÂèñÊ∂àÊ∑ªÂä†‰∫ã‰ª∂
        document.getElementById('cancel-add').addEventListener('click', function() {
            document.getElementById('add-modal').style.display = 'none';
            document.getElementById('site-name').value = '';
            document.getElementById('site-url').value = '';
        });
        
        // Á°ÆËÆ§Ê∑ªÂä†‰∫ã‰ª∂
        document.getElementById('confirm-add').addEventListener('click', addSite);
        
        // ÊåâEnterÈîÆ‰πüÂèØ‰ª•Ê∑ªÂä†
        document.getElementById('site-url').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addSite();
            }
        });
        
        // ÊóãËΩ¨ÂäüËÉΩ
        const rotateBtn = document.getElementById('rotate-btn');
        let isLandscape = false;
        rotateBtn.addEventListener('click', function() {
            isLandscape = !isLandscape;
            if (isLandscape) {
                document.body.classList.add('landscape');
            } else {
                document.body.classList.remove('landscape');
            }
        });
        
        // Ê∏ÖÈô§ÁºìÂ≠òÊåâÈíÆ
        document.getElementById('clear-btn').addEventListener('click', clearAllCache);
        
        // Ê∏≤ÊüìÂç°Áâá
        function renderCards() {
            const container = document.getElementById('cards-container');
            container.innerHTML = '';
            
            // ËÆ°ÁÆóÂΩìÂâçÈ°µÁöÑËµ∑ÂßãÂíåÁªìÊùüÁ¥¢Âºï
            const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;
            const endIndex = Math.min(startIndex + ITEMS_PER_PAGE, sites.length);
            
            // Âè™Ê∏≤ÊüìÂΩìÂâçÈ°µÁöÑÁΩëÁ´ô
            for (let i = startIndex; i < endIndex; i++) {
                const site = sites[i];
                const card = document.createElement('div');
                card.className = 'card';
                card.setAttribute('data-url', site.url);
                card.setAttribute('data-index', i);
                card.setAttribute('draggable', 'true');
                
                const iconDiv = document.createElement('div');
                iconDiv.className = 'card-icon';
                iconDiv.innerHTML = `<i class="fas ${site.icon || 'fa-globe'}"></i>`;
                
                const nameDiv = document.createElement('div');
                nameDiv.className = 'card-name';
                nameDiv.textContent = site.name;
                
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-btn';
                deleteBtn.innerHTML = '√ó';
                deleteBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    deleteSite(i);
                });
                
                card.appendChild(iconDiv);
                card.appendChild(nameDiv);
                card.appendChild(deleteBtn);
                container.appendChild(card);
                
                card.addEventListener('dragstart', handleDragStart);
                card.addEventListener('dragover', handleDragOver);
                card.addEventListener('dragenter', handleDragEnter);
                card.addEventListener('dragleave', handleDragLeave);
                card.addEventListener('drop', handleDrop);
                card.addEventListener('dragend', handleDragEnd);
            }
            
            const cards = document.querySelectorAll('.card');
            const iframeContainer = document.getElementById('iframe-container');
            const siteIframe = document.getElementById('site-iframe');
            const backButton = document.getElementById('back-button');
            
            cards.forEach(card => {
                card.addEventListener('click', function() {
                    const url = this.getAttribute('data-url');
                    siteIframe.src = url;
                    iframeContainer.style.display = 'block';
                    backButton.style.display = 'block';
                    document.querySelector('.cards-container').style.display = 'none';
                    document.querySelector('.pagination').style.display = 'none';
                });
            });
            
            backButton.addEventListener('click', function() {
                iframeContainer.style.display = 'none';
                this.style.display = 'none';
                siteIframe.src = '';
                document.querySelector('.cards-container').style.display = 'grid';
                document.querySelector('.pagination').style.display = 'flex';
            });
        }
        
        // Ê∑ªÂä†ÁΩëÁ´ô
        function addSite() {
            const nameInput = document.getElementById('site-name');
            const urlInput = document.getElementById('site-url');
            const name = nameInput.value.trim();
            const url = urlInput.value.trim();
            
            if (!name || !url) {
                showToast('ËØ∑ËæìÂÖ•ÁΩëÁ´ôÂêçÁß∞ÂíåÂú∞ÂùÄ');
                return;
            }
            
            if (!url.startsWith('http://') && !url.startsWith('https://')) {
                showToast('ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑURLÔºà‰ª•http://Êàñhttps://ÂºÄÂ§¥Ôºâ');
                return;
            }
            
            sites.push({name, url, icon: 'fa-globe'});
            saveSites();
            
            // ËÆ°ÁÆóÊñ∞Ê∑ªÂä†ÁöÑÁΩëÁ´ôÂú®Âì™‰∏ÄÈ°µ
            const newTotalPages = Math.ceil(sites.length / ITEMS_PER_PAGE);
            if (newTotalPages > totalPages) {
                currentPage = newTotalPages;
            }
            
            renderCards();
            renderPagination();
            
            document.getElementById('add-modal').style.display = 'none';
            nameInput.value = '';
            urlInput.value = '';
        }
        
        // Âà†Èô§ÁΩëÁ´ô
        function deleteSite(index) {
            if (confirm('Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™ÁΩëÁ´ôÂêóÔºü')) {
                sites.splice(index, 1);
                saveSites();
                
                // Â¶ÇÊûúÂΩìÂâçÈ°µÊ≤°ÊúâÁΩëÁ´ô‰∫ÜÔºåËøîÂõû‰∏ä‰∏ÄÈ°µ
                const newTotalPages = Math.ceil(sites.length / ITEMS_PER_PAGE);
                if (currentPage > newTotalPages && newTotalPages > 0) {
                    currentPage = newTotalPages;
                }
                
                renderCards();
                renderPagination();
            }
        }
        
        // ÊãñÊãΩÂäüËÉΩ
        let dragSrcEl = null;
        let dragIndex = null;
        
        function handleDragStart(e) {
            dragSrcEl = this;
            dragIndex = parseInt(this.getAttribute('data-index'));
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', this.innerHTML);
            this.classList.add('dragging');
        }
        
        function handleDragOver(e) {
            if (e.preventDefault) {
                e.preventDefault();
            }
            e.dataTransfer.dropEffect = 'move';
            return false;
        }
        
        function handleDragEnter(e) {
            this.classList.add('over');
        }
        
        function handleDragLeave(e) {
            this.classList.remove('over');
        }
        
        function handleDrop(e) {
            if (e.stopPropagation) {
                e.stopPropagation();
            }
            
            if (dragSrcEl !== this) {
                const destIndex = parseInt(this.getAttribute('data-index'));
                
                // ‰∫§Êç¢Êï∞ÁªÑ‰∏≠ÁöÑÂÖÉÁ¥†
                [sites[dragIndex], sites[destIndex]] = [sites[destIndex], sites[dragIndex]];
                
                saveSites();
                renderCards();
            }
            
            return false;
        }
        
        function handleDragEnd(e) {
            document.querySelectorAll('.card').forEach(card => {
                card.classList.remove('over');
                card.classList.remove('dragging');
            });
        }
        
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
