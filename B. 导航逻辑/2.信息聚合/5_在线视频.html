<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ¼«ç”»å°è¯´å±‹</title>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'ZCOOL KuaiLe', cursive, sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            /* èƒŒæ™¯é¢œè‰²å°†é€šè¿‡JSéšæœºè®¾ç½® */
        }

        /* æ¼«ç”»ç½‘ç‚¹èƒŒæ™¯ */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(circle, rgba(255,255,255,0.2) 1px, transparent 1px);
            background-size: 15px 15px;
            pointer-events: none;
            z-index: 1;
        }

        /* æ¼«ç”»é£æ ¼è£…é¥° */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(45deg, transparent 48%, rgba(0,0,0,0.05) 50%, transparent 52%),
                linear-gradient(-45deg, transparent 48%, rgba(0,0,0,0.05) 50%, transparent 52%);
            background-size: 30px 30px;
            pointer-events: none;
            z-index: 1;
        }

        /* çŒ«å’ªåŠ è½½æç¤º */
        #cat-loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border: 4px solid #000;
            border-radius: 20px;
            padding: 20px 30px;
            font-size: 1.2rem;
            font-weight: bold;
            box-shadow: 8px 8px 0px rgba(0,0,0,0.3);
            z-index: 1000;
            animation: bounce 1s ease-in-out infinite;
        }

        #cat-loading.hidden {
            display: none;
        }

        /* å¡ç‰‡ç½‘æ ¼å¸ƒå±€ - ä¸€è¡Œä¸‰ä¸ª */
        .cards-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        /* æ¼«é£å¡ç‰‡ */
        .card {
            background: white;
            border: 3px solid #000;
            border-radius: 10px;
            padding: 20px;
            min-height: 200px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 6px 6px 0px rgba(0,0,0,0.2);
            transform: rotate(-1deg);
            overflow: hidden;
        }

        .card:nth-child(even) {
            transform: rotate(1deg);
        }

        .card:hover {
            transform: rotate(0deg) scale(1.05) translateY(-5px);
            z-index: 10;
            box-shadow: 10px 10px 0px rgba(0,0,0,0.3);
        }

        /* å¡ç‰‡å›¾æ ‡ */
        .card-icon {
            font-size: 3rem;
            text-align: center;
            display: block;
            margin-bottom: 15px;
            animation: float 3s ease-in-out infinite;
        }

        /* å¡ç‰‡æ ‡é¢˜ */
        .card-title {
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            color: #000;
            margin-bottom: 10px;
        }

        /* å¯¹è¯æ¡† */
        .speech-bubble {
            position: absolute;
            background: white;
            border: 2px solid #000;
            border-radius: 15px;
            padding: 5px 10px;
            font-size: 12px;
            font-weight: bold;
            box-shadow: 2px 2px 0px rgba(0,0,0,0.2);
            z-index: 5;
        }

        .speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 15px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 8px solid #000;
        }

        .speech-bubble::before {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 17px;
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 6px solid white;
            z-index: 1;
        }

        /* è£…é¥°æ˜Ÿæ˜Ÿ */
        .star {
            position: absolute;
            font-size: 1.2rem;
            color: #ffeb3b;
            animation: sparkle 1.5s ease-in-out infinite;
        }

        /* iframeå…¨å±å®¹å™¨ */
        #iframe-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            z-index: 1000;
            display: none;
            border: 4px solid #000;
        }

        #iframe-container.active {
            display: block;
        }

        #site-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* è¿”å›æŒ‰é’® */
        #back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 50px;
            height: 50px;
            background: white;
            border: 3px solid #000;
            border-radius: 50%;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            z-index: 1001;
            display: none;
            box-shadow: 3px 3px 0px rgba(0,0,0,0.3);
            transition: all 0.3s;
        }

        #back-button:hover {
            transform: scale(1.1);
            box-shadow: 5px 5px 0px rgba(0,0,0,0.3);
        }

        #back-button.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* æ§åˆ¶æŒ‰é’® */
        .control-buttons {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 100;
        }

        .control-btn {
            width: 45px;
            height: 45px;
            background: white;
            border: 3px solid #000;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 3px 3px 0px rgba(0,0,0,0.3);
            transition: all 0.3s;
        }

        .control-btn:hover {
            transform: scale(1.1);
            box-shadow: 5px 5px 0px rgba(0,0,0,0.3);
        }

        /* æ¨¡æ€æ¡† */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            border: 4px solid #000;
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 400px;
            box-shadow: 8px 8px 0px rgba(0,0,0,0.3);
            transform: rotate(-1deg);
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            color: #000;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #000;
        }

        .form-group input {
            width: 100%;
            padding: 10px;
            border: 2px solid #000;
            border-radius: 5px;
            font-family: 'ZCOOL KuaiLe', cursive;
            font-size: 1rem;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .modal-btn {
            flex: 1;
            padding: 10px;
            border: 2px solid #000;
            border-radius: 5px;
            font-family: 'ZCOOL KuaiLe', cursive;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .modal-btn.cancel {
            background: #ff6b6b;
            color: white;
        }

        .modal-btn.confirm {
            background: #4ecdc4;
            color: white;
        }

        .modal-btn:hover {
            transform: scale(1.05);
            box-shadow: 3px 3px 0px rgba(0,0,0,0.3);
        }

        /* åŠ¨ç”» */
        @keyframes bounce {
            0%, 100% { transform: translate(-50%, -50%) translateY(0); }
            50% { transform: translate(-50%, -50%) translateY(-10px); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        @keyframes sparkle {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }

        /* å“åº”å¼ */
        @media (max-width: 768px) {
            .cards-container {
                grid-template-columns: repeat(3, 1fr);
                gap: 10px;
                padding: 10px;
            }
            
            .card {
                padding: 15px 10px;
                min-height: 150px;
            }
            
            .card-icon {
                font-size: 2rem;
            }
            
            .card-title {
                font-size: 1rem;
            }
        }

        @media (max-width: 480px) {
            .cards-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- çŒ«å’ªåŠ è½½æç¤º -->
    <div id="cat-loading">ğŸ± åŠ è½½æ¼«ç”»èƒŒæ™¯ä¸­...</div>
    
    <!-- å¡ç‰‡ç½‘æ ¼å¸ƒå±€ -->
    <div class="cards-container" id="cards-container">
        <!-- å¡ç‰‡å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
    </div>
    
    <!-- iframeå…¨å±å®¹å™¨ -->
 <div id="iframe-container">
    <iframe 
        id="site-iframe" 
        src=""
        allowfullscreen 
        allow="fullscreen *; picture-in-picture *"
    ></iframe>
</div>

    <!-- è¿”å›æŒ‰é’® -->
    <button id="back-button">â†</button>
    
    <!-- æ§åˆ¶æŒ‰é’® -->
    <div class="control-buttons">
        <button class="control-btn" id="add-btn" title="æ·»åŠ ç½‘ç«™">+</button>
        <button class="control-btn" id="rotate-btn" title="æ—‹è½¬å¡ç‰‡">â†»</button>
        <button class="control-btn" id="cat-btn" title="æ¢èƒŒæ™¯">ğŸ¨</button>
        <button class="control-btn" id="clear-btn" title="æ¸…é™¤ç¼“å­˜">ğŸ—‘ï¸</button>
    </div>
    
    <!-- æ·»åŠ ç½‘ç«™çš„æ¨¡æ€æ¡† -->
    <div class="modal" id="add-modal">
        <div class="modal-content">
            <div class="modal-title">æ·»åŠ æ–°ç½‘ç«™</div>
            <div class="form-group">
                <label for="site-name">ç½‘ç«™åç§°</label>
                <input type="text" id="site-name" placeholder="è¾“å…¥ç½‘ç«™åç§°">
            </div>
            <div class="form-group">
                <label for="site-url">ç½‘ç«™åœ°å€</label>
                <input type="text" id="site-url" placeholder="è¾“å…¥ç½‘ç«™URL (åŒ…å«http://æˆ–https://)">
            </div>
            <div class="modal-buttons">
                <button class="modal-btn cancel" id="cancel-add">å–æ¶ˆ</button>
                <button class="modal-btn confirm" id="confirm-add">ç¡®è®¤æ·»åŠ </button>
            </div>
        </div>
    </div>

    <!-- å¼•å…¥é…ç½® -->
    <script src="5_ç ´è§£é…ç½®config.js"></script>
    
    <script>
        // èƒŒæ™¯ä¸»é¢˜æ•°ç»„
        const backgrounds = [
            'linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 100%)',
            'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
            'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',
            'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
            'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',
            'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',
            'linear-gradient(135deg, #30cfd0 0%, #330867 100%)',
            'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)',
            'linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)',
            'linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%)'
        ];
        
        let currentBgIndex = -1;

        // è®¾ç½®éšæœºèƒŒæ™¯
        function setRandomBackground() {
            // éšæœºé€‰æ‹©ä¸€ä¸ªèƒŒæ™¯
            const randomIndex = Math.floor(Math.random() * backgrounds.length);
            currentBgIndex = randomIndex;
            document.body.style.background = backgrounds[randomIndex];
        }

        // ç”Ÿæˆå¡ç‰‡
        function generateCards() {
            const container = document.getElementById('cards-container');
            container.innerHTML = '';
            
            sites.forEach((site, index) => {
                const card = document.createElement('div');
                card.className = 'card';
                card.style.animationDelay = `${index * 0.1}s`;
                
                // å¯¹è¯æ¡†ä½ç½® - å¾ªç¯ä½¿ç”¨6ä¸ªä½ç½®
                const bubblePositions = [
                    'top: 10px; right: 10px;',
                    'bottom: 10px; left: 10px;',
                    'top: 10px; left: 50%; transform: translateX(-50%);',
                    'bottom: 10px; right: 10px;',
                    'top: 10px; left: 10px;',
                    'bottom: 10px; left: 50%; transform: translateX(-50%);'
                ];
                
                // æ˜Ÿæ˜Ÿä½ç½® - å¾ªç¯ä½¿ç”¨6ä¸ªä½ç½®
                const starPositions = [
                    'top: 5px; left: 5px;',
                    'bottom: 5px; right: 5px;',
                    'top: 5px; right: 5px;',
                    'bottom: 5px; left: 5px;',
                    'top: 5px; left: 50%; transform: translateX(-50%);',
                    'bottom: 5px; right: 50%; transform: translateX(50%);'
                ];
                
                card.innerHTML = `
                    <span class="card-icon">${site.icon}</span>
                    <div class="card-title">${site.name}</div>
                    <div class="speech-bubble" style="${bubblePositions[index % 6]}">
                        ç‚¹å‡»è¿›å…¥ï¼
                    </div>
                    <div class="star" style="${starPositions[index % 6]}">â­</div>
                `;
                
                card.onclick = () => openSite(site);
                container.appendChild(card);
            });
        }

        // æ‰“å¼€ç½‘ç«™
        function openSite(site) {
            const iframeContainer = document.getElementById('iframe-container');
            const siteIframe = document.getElementById('site-iframe');
            const backButton = document.getElementById('back-button');
            
            siteIframe.src = site.url;
            iframeContainer.classList.add('active');
            backButton.classList.add('show');
        }

        // å…³é—­iframe
        function closeIframe() {
            const iframeContainer = document.getElementById('iframe-container');
            const siteIframe = document.getElementById('site-iframe');
            const backButton = document.getElementById('back-button');
            
            iframeContainer.classList.remove('active');
            backButton.classList.remove('show');
            setTimeout(() => {
                siteIframe.src = '';
            }, 300);
        }

        // åˆ‡æ¢èƒŒæ™¯
        function changeBackground() {
            currentBgIndex = (currentBgIndex + 1) % backgrounds.length;
            document.body.style.background = backgrounds[currentBgIndex];
        }

        // æ—‹è½¬å¡ç‰‡
        function rotateCards() {
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                const randomRotation = Math.random() * 6 - 3; // -3 åˆ° 3 åº¦
                card.style.transform = `rotate(${randomRotation}deg)`;
            });
        }

        // æ˜¾ç¤ºæ·»åŠ æ¨¡æ€æ¡†
        function showAddModal() {
            document.getElementById('add-modal').classList.add('show');
        }

        // éšè—æ·»åŠ æ¨¡æ€æ¡†
        function hideAddModal() {
            document.getElementById('add-modal').classList.remove('show');
            document.getElementById('site-name').value = '';
            document.getElementById('site-url').value = '';
        }

        // æ·»åŠ æ–°ç½‘ç«™
        function addNewSite() {
            const name = document.getElementById('site-name').value.trim();
            const url = document.getElementById('site-url').value.trim();
            
            if (!name || !url) {
                alert('è¯·å¡«å†™å®Œæ•´çš„ç½‘ç«™ä¿¡æ¯ï¼');
                return;
            }
            
            if (!url.startsWith('http://') && !url.startsWith('https://')) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„URLï¼ˆåŒ…å«http://æˆ–https://ï¼‰');
                return;
            }
            
            const icons = ['ğŸ“š', 'ğŸ“–', 'ğŸ“', 'ğŸŒŸ', 'ğŸ¯', 'ğŸª', 'ğŸ¨', 'ğŸ­', 'ğŸ¬', 'ğŸ‘‘', 'ğŸ®', 'ğŸ•¹ï¸'];
            const randomIcon = icons[Math.floor(Math.random() * icons.length)];
            
            sites.push({
                name: name,
                url: url,
                icon: randomIcon
            });
            
            generateCards();
            hideAddModal();
        }

        // æ¸…é™¤ç¼“å­˜
        function clearCache() {
            if (confirm('ç¡®å®šè¦æ¸…é™¤æ‰€æœ‰æ·»åŠ çš„ç½‘ç«™å—ï¼Ÿ')) {
                // é‡ç½®ä¸ºåŸå§‹çš„å…­ä¸ªç½‘ç«™
                sites.length = 0;
                sites.push(
                    {name: 'ç¬”è¶£é˜', url: 'https://m.bqg128.cc/', icon: 'ğŸ“š'},
                    {name: 'è¯»ä¹‹é˜', url: 'http://sgm.duzhige.net/', icon: 'ğŸ“–'},
                    {name: 'å¨œå¨œ', url: 'https://nana00.com/xs124595/', icon: 'ğŸ“'},
                    {name: 'é£è½¦åŠ¨æ¼«', url: 'https://www.dm304.com/', icon: 'ğŸ¬'},
                    {name: 'ç‹è€…TV', url: 'https://wzzy.cc/', icon: 'ğŸ‘‘'},
                    {name: 'æ¼«ç”»', url: 'https://m.kuaikanmanhua.com/mobile/2583/list/?module_id=0&topic_id=2583&module_title&module_type', icon: 'ğŸ¨'}
                );
                generateCards();
            }
        }

        // äº‹ä»¶ç»‘å®š
        document.getElementById('back-button').addEventListener('click', closeIframe);
        document.getElementById('add-btn').addEventListener('click', showAddModal);
        document.getElementById('rotate-btn').addEventListener('click', rotateCards);
        document.getElementById('cat-btn').addEventListener('click', changeBackground);
        document.getElementById('clear-btn').addEventListener('click', clearCache);
        document.getElementById('cancel-add').addEventListener('click', hideAddModal);
        document.getElementById('confirm-add').addEventListener('click', addNewSite);

        // ESCé”®å…³é—­iframeå’Œæ¨¡æ€æ¡†
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                if (document.getElementById('iframe-container').classList.contains('active')) {
                    closeIframe();
                } else if (document.getElementById('add-modal').classList.contains('show')) {
                    hideAddModal();
                }
            }
        });

        // é¡µé¢åŠ è½½å®Œæˆ
        window.addEventListener('load', () => {
            // è®¾ç½®éšæœºèƒŒæ™¯
            setRandomBackground();
            
            setTimeout(() => {
                document.getElementById('cat-loading').classList.add('hidden');
                generateCards();
            }, 1000);
        });

        // å“åº”å¼è°ƒæ•´
        window.addEventListener('resize', () => {
            // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ å“åº”å¼é€»è¾‘
        });
    </script>
    <!-- åœ¨ </body> æ ‡ç­¾å‰æ’å…¥ -->
<div class="footer-notice">
  æ­¤ä¸ºç¬¬ä¸‰æ–¹ç½‘ç«™ï¼Œè¯·ä¸è¦ç›¸ä¿¡å¹¿å‘Šï¼Œå†…å®¹ä¸ä½œè€…æ— å…³
</div>

</body>
</html>
